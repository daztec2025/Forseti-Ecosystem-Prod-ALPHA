# =============================================================================
# Forseti Docker Environment Variables
# Copy this file to .env and fill in the values
#
# Usage:
#   cp .env.docker.example .env
#   # Edit .env with your values
#   docker compose -f docker-compose.yml -f docker-compose.dev.yml up --build
# =============================================================================

# -----------------------------------------------------------------------------
# Environment Mode
# -----------------------------------------------------------------------------
NODE_ENV=development

# -----------------------------------------------------------------------------
# Database Configuration (PostgreSQL)
# -----------------------------------------------------------------------------
POSTGRES_USER=forseti
POSTGRES_PASSWORD=your_secure_password_here
POSTGRES_DB=forseti

# Note: DATABASE_URL is constructed automatically in docker-compose.yml
# Format: postgresql://POSTGRES_USER:POSTGRES_PASSWORD@db:5432/POSTGRES_DB

# -----------------------------------------------------------------------------
# API Configuration
# -----------------------------------------------------------------------------

# JWT Authentication (REQUIRED - change this in production!)
JWT_SECRET=your_super_secret_jwt_key_minimum_32_characters_long
JWT_EXPIRES_IN=7d
JWT_EXPIRES_IN_REMEMBER_ME=30d

# Password Hashing
BCRYPT_ROUNDS=10

# CORS - Comma-separated list of allowed origins
# Development:
ALLOWED_ORIGINS=http://localhost:3000,http://localhost:8080,http://web:8080
# Production example:
# ALLOWED_ORIGINS=https://forseti.app,https://www.forseti.app

# Rate Limiting (optional - defaults shown)
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100
AUTH_RATE_LIMIT_MAX_REQUESTS=5

# -----------------------------------------------------------------------------
# Web (Next.js) Configuration
# -----------------------------------------------------------------------------

# API URL for the frontend
# Development (browser makes direct requests to API):
NEXT_PUBLIC_API_URL=http://localhost:4000

# Production (through nginx proxy):
# NEXT_PUBLIC_API_URL=https://api.forseti.app
# Or internal Docker network:
# NEXT_PUBLIC_API_URL=http://api:4000

# -----------------------------------------------------------------------------
# AI Race Engineer (Claude API)
# -----------------------------------------------------------------------------

# Get your API key from https://console.anthropic.com/
# Required for the AI Race Engineer chat feature
ANTHROPIC_API_KEY=your_anthropic_api_key_here

# -----------------------------------------------------------------------------
# Production-specific Variables (uncomment for production)
# -----------------------------------------------------------------------------

# IMPORTANT: Generate secure values for production!
# Use: openssl rand -base64 32

# JWT_SECRET=<generate-secure-64-char-string>
# POSTGRES_PASSWORD=<generate-secure-password>
# ALLOWED_ORIGINS=https://forseti.app,https://www.forseti.app
# NEXT_PUBLIC_API_URL=https://api.forseti.app
