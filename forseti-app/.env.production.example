# =============================================================================
# Forseti Production Environment Configuration Template
# =============================================================================
# Copy this file to .env and configure for your production deployment
# NEVER commit actual secrets to version control
# =============================================================================

# Database Configuration (Azure PostgreSQL Flexible Server)
# Format: postgresql://USER:PASSWORD@HOST:PORT/DATABASE?sslmode=require
DATABASE_URL=postgresql://your_user:your_password@your-server.postgres.database.azure.com:5432/forseti?sslmode=require

# JWT Authentication
# Generate a secure random string (minimum 32 characters, recommended 64)
# You can generate one with: node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"
JWT_SECRET=your-secure-jwt-secret-minimum-32-characters-long
JWT_EXPIRES_IN=7d
JWT_EXPIRES_IN_REMEMBER_ME=30d

# Server Configuration
NODE_ENV=production
PORT=4000

# CORS Configuration
# Comma-separated list of allowed origins
ALLOWED_ORIGINS=https://forseti-web.icyfield-da5f7469.uksouth.azurecontainerapps.io,https://forseti.app

# Security
BCRYPT_ROUNDS=12

# Rate Limiting
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100
AUTH_RATE_LIMIT_MAX_REQUESTS=5

# =============================================================================
# Azure Container Apps Deployment Notes
# =============================================================================
# When deploying to Azure Container Apps, set these as Container App secrets:
#
# az containerapp secret set \
#   --name forseti-api \
#   --resource-group Forseti-DEV \
#   --secrets \
#     "database-url=postgresql://..." \
#     "jwt-secret=..."
#
# Then reference them in environment variables:
#
# az containerapp update \
#   --name forseti-api \
#   --resource-group Forseti-DEV \
#   --set-env-vars \
#     "DATABASE_URL=secretref:database-url" \
#     "JWT_SECRET=secretref:jwt-secret" \
#     "NODE_ENV=production"
# =============================================================================
